<!DOCTYPE html>
{% load staticfiles %}
<html>
<head>
    <meta charset="UTF-8">
    <title>Wireless Sensors</title>
    <link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/style.css' %}"/>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-7">
                <div id='myContainer1'></div>
                <div id='myContainer2'></div>
                <div id='myContainer3' style="display: none;"></div>
            </div>
            <div class="col-md-5">
                <div class="col-md-6">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <div><label><strong>Radius:</strong> {{ radius }}</label></div>
                        </li>
                        <li class="list-group-item">
                            <div><label><strong>Avg. Deg.:</strong> {{ avg_deg_received }}</label></div>
                        </li>
                        <li class="list-group-item">
                            <div><label><strong>MAX:</strong> {{ max_deg }}</label></div>
                        </li>
                        <li class="list-group-item">
                            <div><label><strong>MIN:</strong> {{ min_deg }}</label></div>
                        </li>
                        <li class="list-group-item">
                            <div><label><strong>No. of Edges:</strong> {{ number_of_edges }}</label></div>
                        </li>
                        <li class="list-group-item">
                            <div><label><span class="color-red">&nbsp;&nbsp;&nbsp;&nbsp;</span> Max degree</label></div>
                        </li>
                        <li class="list-group-item">
                            <div><label><span class="color-blue">&nbsp;&nbsp;&nbsp;&nbsp;</span> Min degree</label></div>
                        </li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <form method="POST" action="/plot">
                        {% csrf_token %}
                        <div class="input-group full-width">
                            <label class="form-control"><input type="checkbox" id="animate" name="animate[]" value="1" checked>&nbsp;&nbsp;Animate</label>
                        </div>
                        <div class="input-group full-width">
                            <label class="form-control"><input type="checkbox" id="showEdgeCheck" name="plot-option[]" value="0" checked onchange="drawEdge()">&nbsp;&nbsp;Show Edges</label>
                        </div>
                        <div class="input-group full-width">
                            <label class="form-control"><input type="checkbox" id="minMaxCheck" name="plot-option[]" value="1" onchange="drawMinMax()">&nbsp;&nbsp;Show Min-Max Deg.</label>
                        </div>
                        <div class="input-group full-width">
                             <span class="input-group-addon">Topology</span>
                            <select name="topology" id="topology" class="form-control" title="Topology">
                                <option value="square">Unit Square</option>
                                <option value="circle">Unit Circle</option>
                                <option value="sphere" disabled>Unit Sphere</option>
                            </select>
                        </div>
                        <div class="input-group full-width">
                            <span class="input-group-addon">Nodes</span>
                            <input type="text" name="nodes" class="form-control" placeholder="Number of nodes" value="{{ nodes }}">
                        </div>
                        <div class="input-group full-width">
                            <span class="input-group-addon">Avg. Deg.</span>
                            <input type="text" name="avg_deg" class="form-control" placeholder="Avg. Deg." value="{{ avg_deg }}">
                        </div>
                        <div class="input-group full-width">
                            <button type="submit" class="btn btn-info btn-block">Plot Graph</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

	<script type="text/javascript" src="{% static 'js/jquery-1.11.1.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/p5.min.js' %}"></script>
	<script>
        var point_size = 4;
        var max_vertex = {{ max_vertex }};
        var min_vertex = {{ min_vertex }};
        var plot_option = {{ plot_option }};
        var topology = "{{ topology }}";
        var json = JSON.parse('{{ mapped_list|safe }}');
        var offset = 600;
        {% if topology == "circle" %}
            offset = 300;
        {% endif  %}
        var nodes = {{ nodes }};
        var cells = JSON.parse('{{ cells|safe }}');
        var cellCount = {{ cell_count }};
        var pointMap = JSON.parse('{{ point_map|safe }}');
        var animate = {{ animate }};
	</script>
    <script type="text/javascript" src="{% static 'js/sketch.js' %}"></script>
</body>
</html>